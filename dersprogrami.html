<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale-1.0">
    <title>6. Sƒ±nƒ±f ƒ∞nteraktif Haftalƒ±k Plan</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 400px;
            height: auto;
            min-height: 300px;
            max-height: 350px;
            margin-left: auto;
            margin-right: auto;
        }
        .nav-btn {
            @apply px-4 py-2 rounded-full text-sm sm:text-base font-semibold transition-all duration-200 shadow-sm;
        }
        .nav-btn-active {
            @apply bg-gradient-to-r from-blue-500 to-indigo-600 text-white shadow-lg scale-105;
        }
        .nav-btn-inactive {
            @apply bg-gray-100 text-gray-700 hover:bg-gray-200 hover:shadow-md;
        }
        
        .editable-lesson {
            @apply w-full p-2 rounded-md border border-blue-300 text-base font-medium text-blue-800 bg-white;
        }
        .editable-lesson:focus {
            @apply ring-2 ring-blue-500 outline-none shadow-inner;
        }

        .passive-activity-icon {
            @apply flex-1 text-3xl text-center text-gray-500;
        }

        @media print {
            @page {
                size: A4 landscape;
                margin: 0.7cm;
            }
            body {
                -webkit-print-color-adjust: exact;
                color-adjust: exact;
                font-size: 11pt;
            }
            #current-activity-bar, header, nav, #print-schedule-btn, #chart-section, #plan-view {
                display: none !important;
            }
            #full-week-view {
                display: block !important;
                width: 100%;
                box-shadow: none !important;
                border: none !important;
                padding: 0 !important;
                margin: 0 !important;
            }
            #full-week-view h2 {
                text-align: center;
                font-size: 16pt;
                font-weight: bold;
                margin-bottom: 10px;
            }
            #full-week-view table {
                width: 100%;
                font-size: 10pt;
                line-height: 1.3;
                border-collapse: collapse;
                table-layout: fixed; 
            }
            #full-week-view th, #full-week-view td {
                border: 1px solid #999;
                padding: 5px;
                text-align: left;
                vertical-align: top;
                white-space: normal;
                word-break: break-word;
                min-height: 65px; 
                height: 65px;
            }
            #full-week-view th {
                background-color: #f3f4f6 !important;
                font-weight: bold;
                font-size: 11pt;
                text-align: center;
            }
            .bg-blue-50 {
                background-color: #EFF6FF !important;
            }
            .print-passive {
                text-align: center;
                font-size: 1.5rem;
                padding-top: 5px;
            }
            .print-active {
                color: #1e40af !important;
                font-weight: bold;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="bg-gray-100 text-slate-800">

    
    <div id="current-activity-bar" class="bg-gray-800 text-white p-3 shadow-lg print:hidden sticky top-0 z-50">
        <div class="container mx-auto max-w-7xl">
            <div class="grid grid-cols-1 md:grid-cols-3 gap-2 md:gap-4 text-center">
                
                <div class="md:text-right">
                    <span class="text-xs uppercase text-gray-400">√ñnceki</span>
                    <p id="prev-activity" class="font-medium text-sm sm:text-base">--</p>
                </div>
                
                <div class="border-t border-b border-gray-700 md:border-0 md:border-l md:border-r md:border-gray-600 py-2 md:py-0">
                    <span class="text-xs uppercase text-blue-300">≈ûu Anki Aktivite</span>
                    <p id="current-activity" class="font-bold text-base sm:text-lg text-blue-300">Y√ºkleniyor...</p>
                </div>
                
                <div class="md:text-left">
                    <span class="text-xs uppercase text-gray-400">Sonraki</span>
                    <p id="next-activity" class="font-medium text-sm sm:text-base">--</p>
                </div>
            </div>
        </div>
    </div>

    <div class="container mx-auto max-w-7xl p-4 sm:p-6 lg:p-8">
        
        <header class="mb-6 print:hidden">
            <h1 class="text-xl font-semibold text-blue-800">6. Sƒ±nƒ±f ƒ∞nteraktif Haftalƒ±k Planƒ±m</h1>
        </header>

        
        <nav class="mb-6 bg-white p-3 rounded-xl shadow-sm print:hidden">
            <div class="flex flex-wrap justify-center gap-2">
                <button id="btn-Pazartesi" class="nav-btn nav-btn-inactive">Pazartesi</button>
                <button id="btn-Salƒ±" class="nav-btn nav-btn-inactive">Salƒ±</button>
                <button id="btn-√áar≈üamba" class="nav-btn nav-btn-inactive">√áar≈üamba</button>
                <button id="btn-Per≈üembe" class="nav-btn nav-btn-inactive">Per≈üembe</button>
                <button id="btn-Cuma" class="nav-btn nav-btn-inactive">Cuma</button>
                <button id="btn-Cumartesi" class="nav-btn nav-btn-inactive">Cumartesi</button>
                <button id="btn-Pazar" class="nav-btn nav-btn-inactive">Pazar</button>
                <button id="btn-FullWeek" class="nav-btn nav-btn-inactive border border-gray-300">T√ºm Hafta</button>
            </div>
        </nav>

        
        <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <section id="program-section" class="lg:col-span-2 flex flex-col gap-6">
                <div id="plan-view" class="bg-white p-4 sm:p-6 rounded-lg shadow-md print:hidden">
                    <div class="flex justify-between items-center mb-4">
                        <h2 id="plan-title" class="text-2xl font-semibold text-slate-700"></h2>
                        <span class="text-sm text-gray-500 italic">Dersleri d√ºzenlemek i√ßin kutulara tƒ±kla.</span>
                    </div>
                    <div id="plan-container" class="space-y-3">
                    </div>
                </div>

                <div id="full-week-view" class="bg-white p-4 sm:p-6 rounded-lg shadow-md hidden print:block overflow-x-auto">
                    <div class="flex justify-between items-center mb-4">
                        <h2 class="text-2xl font-semibold text-slate-700">T√ºm Haftalƒ±k Plan</h2>
                        <button id="print-schedule-btn" class="print:hidden px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 transition-colors">
                            Yazdƒ±r (A4 Yatay)
                        </button>
                    </div>
                    <table class="min-w-full divide-y divide-gray-200 border">
                        <thead class="bg-gray-50">
                            <tr>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Pazartesi</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Salƒ±</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">√áar≈üamba</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Per≈üembe</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Cuma</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Cumartesi</th>
                                <th class="px-3 py-2 text-center text-xs font-medium text-gray-500 uppercase tracking-wider whitespace-nowrap">Pazar</th>
                            </tr>
                        </thead>
                        <tbody id="full-week-tbody" class="bg-white divide-y divide-gray-200 text-sm">
                            
                        </tbody>
                    </table>
                </div>
            </section>

            
            <aside id="chart-section-wrapper" class="lg:col-span-1 print:hidden">
                <section id="chart-section" class="bg-white p-4 sm:p-6 rounded-lg shadow-md print:hidden sticky top-24">
                    <h3 class="text-xl font-semibold text-slate-700 mb-4 text-center">Haftalƒ±k Zaman Daƒüƒ±lƒ±mƒ±</h3>
                    <div class="chart-container">
                        <canvas id="time-allocation-chart"></canvas>
                    </div>
                </section>
            </aside>

        </main>
    </div>

    <script>
        
        let studyPlan = {
            "Pazartesi": ["G√ºn√ºn √ñdevleri (T√ú, MAT, FEN, SOS)", "Matematik Soru √á√∂z√ºm√º", "Fen Bilimleri Konu Tekrarƒ±"],
            "Salƒ±": ["G√ºn√ºn √ñdevleri (YD, T√ú, Bƒ∞L)", "T√ºrk√ße Soru √á√∂z√ºm√º", "Yabancƒ± Dil Kelime Tekrarƒ±"],
            "√áar≈üamba": ["G√ºn√ºn √ñdevleri (MAT, Dƒ∞N)", "Se√ßmeli Ders Tekrarƒ±", "Din K√ºlt√ºr√º Konu Tekrarƒ±"],
            "Per≈üembe": ["G√ºn√ºn √ñdevleri (SOS, FEN, MAT, YD)", "Matematik Soru √á√∂z√ºm√º", "Fen Bilimleri Konu Tekrarƒ±"],
            "Cuma": ["T√ºrk√ße √ñdevleri", "Haftalƒ±k Fen Tekrarƒ±", "Haftalƒ±k Matematik Tekrarƒ±"],
            "Cumartesi": ["Genel Tekrar (Matematik)", "", ""],
            "Pazar": ["Genel Tekrar (T√ºrk√ße)", "", ""]
        };

        
        const scheduleData = {
            "Pazartesi": [
                { time: "08:30 - 14:35", activity: "OKUL" },
                { time: "14:35 - 16:30", activity: "Eve D√∂n√º≈ü & Sosyal Zaman" },
                { time: "16:30 - 17:30", activity: "Ders 1" },
                { time: "17:30 - 19:30", activity: "Mola & Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:10", activity: "Ders 2" },
                { time: "20:10 - 20:50", activity: "Ders 3" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "Salƒ±": [
                { time: "08:30 - 14:35", activity: "OKUL" },
                { time: "14:35 - 16:30", activity: "Eve D√∂n√º≈ü & Sosyal Zaman" },
                { time: "16:30 - 17:30", activity: "Ders 1" },
                { time: "17:30 - 19:30", activity: "Mola & Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:10", activity: "Ders 2" },
                { time: "20:10 - 20:50", activity: "Ders 3" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "√áar≈üamba": [
                { time: "08:30 - 14:35", activity: "OKUL" },
                { time: "14:35 - 16:30", activity: "Eve D√∂n√º≈ü & Sosyal Zaman" },
                { time: "16:30 - 17:30", activity: "Ders 1" },
                { time: "17:30 - 19:30", activity: "Mola & Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:10", activity: "Ders 2" },
                { time: "20:10 - 20:50", activity: "Ders 3" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "Per≈üembe": [
                { time: "08:30 - 14:35", activity: "OKUL" },
                { time: "14:35 - 16:30", activity: "Eve D√∂n√º≈ü & Sosyal Zaman" },
                { time: "16:30 - 17:30", activity: "Ders 1" },
                { time: "17:30 - 19:30", activity: "Mola & Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:10", activity: "Ders 2" },
                { time: "20:10 - 20:50", activity: "Ders 3" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "Cuma": [
                { time: "08:30 - 14:35", activity: "OKUL" },
                { time: "14:35 - 16:30", activity: "Eve D√∂n√º≈ü & Sosyal Zaman" },
                { time: "16:30 - 17:30", activity: "Ders 1" },
                { time: "17:30 - 19:30", activity: "Mola & Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:10", activity: "Ders 2" },
                { time: "20:10 - 20:50", activity: "Ders 3" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "Cumartesi": [
                { time: "07:30 - 14:40", activity: "Esnek Zaman" },
                { time: "14:40 - 15:30", activity: "√ñƒüle Yemeƒüi" },
                { time: "15:30 - 16:30", activity: "Ders 1" },
                { time: "16:30 - 18:30", activity: "Sosyal Zaman & Hobi" },
                { time: "18:30 - 19:30", activity: "Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:50", activity: "Ekran S√ºresi" },
                { time: "20:50 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ],
            "Pazar": [
                { time: "07:30 - 14:40", activity: "Esnek Zaman" },
                { time: "14:40 - 15:30", activity: "√ñƒüle Yemeƒüi" },
                { time: "15:30 - 16:30", activity: "Ders 1" },
                { time: "16:30 - 18:30", activity: "Aile Aktivitesi & Zamanƒ±" },
                { time: "18:30 - 19:30", activity: "Ak≈üam Yemeƒüi" },
                { time: "19:30 - 20:50", activity: "Ekran S√ºresi" },
                { time: "20:50 - 21:00", activity: "Haftaya Hazƒ±rlƒ±k" },
                { time: "21:00 - 22:00+", activity: "Ak≈üam Rutini & Uyku" }
            ]
        };

        
        const dayNames = ["Pazar", "Pazartesi", "Salƒ±", "√áar≈üamba", "Per≈üembe", "Cuma", "Cumartesi"];
        let activeDayButton = null;

        
        function getPassiveActivityIcon(activity) {
            if (activity.includes('OKUL')) return 'üè´';
            if (activity.includes('Eve D√∂n√º≈ü')) return 'üè†';
            if (activity.includes('Yemeƒüi')) return 'üçΩÔ∏è';
            if (activity.includes('Ak≈üam Rutini')) return 'üò¥';
            if (activity.includes('Esnek Zaman')) return '‚è≥';
            if (activity.includes('Sosyal Zaman')) return 'üë´';
            if (activity.includes('Ekran S√ºresi')) return 'üì±';
            if (activity.includes('Haftaya Hazƒ±rlƒ±k')) return 'üóìÔ∏è';
            if (activity.includes('Aile')) return 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶';
            return 'üìù'; 
        }

        document.addEventListener('DOMContentLoaded', () => {
            
            const planTitle = document.getElementById('plan-title');
            const planContainer = document.getElementById('plan-container');
            const planView = document.getElementById('plan-view');
            const fullWeekView = document.getElementById('full-week-view');
            const currentDayName = dayNames[new Date().getDay()];

            
            function showDay(dayName) {
                
                if (activeDayButton) {
                    activeDayButton.classList.remove('nav-btn-active');
                    activeDayButton.classList.add('nav-btn-inactive');
                }
                const currentButton = document.getElementById(`btn-${dayName}`);
                if (currentButton) {
                    currentButton.classList.add('nav-btn-active');
                    currentButton.classList.remove('nav-btn-inactive');
                    activeDayButton = currentButton;
                }

                
                planView.classList.remove('hidden');
                fullWeekView.classList.add('hidden');

                
                const dayData = scheduleData[dayName];
                planTitle.textContent = `${dayName} Planƒ±`;
                planContainer.innerHTML = ''; 

                if (dayData) {
                    const list = document.createElement('ul');
                    list.className = 'space-y-3';
                    
                    dayData.forEach((item, index) => {
                        const listItem = document.createElement('li');
                        const bgColor = index % 2 === 0 ? 'bg-white' : 'bg-blue-50';
                        listItem.className = `flex items-center p-3 ${bgColor} rounded-lg gap-3`;
                        
                        let content = '';
                        const timeText = item.time.includes('+') ? item.time : item.time.replace(':', '.').replace(':', '.');
                        const timeEl = `<div class="w-28 sm:w-32 font-medium text-blue-700 text-sm sm:text-base">${timeText}</div>`;
                        
                        const icon = getPassiveActivityIcon(item.activity);

                        if (icon !== 'üìù') {
                            
                            content = `${timeEl}<div class="passive-activity-icon">${icon}</div>`;
                        } else if (item.activity.startsWith("Ders 1")) {
                            content = `${timeEl}<input type="text" value="${studyPlan[dayName][0]}" data-day="${dayName}" data-block="0" class="editable-lesson" placeholder="Ders 1 Planƒ±...">`;
                        } else if (item.activity.startsWith("Ders 2")) {
                            content = `${timeEl}<input type="text" value="${studyPlan[dayName][1]}" data-day="${dayName}" data-block="1" class="editable-lesson" placeholder="Ders 2 Planƒ±...">`;
                        } else if (item.activity.startsWith("Ders 3")) {
                            content = `${timeEl}<input type="text" value="${studyPlan[dayName][2]}" data-day="${dayName}" data-block="2" class="editable-lesson" placeholder="Ders 3 Planƒ±...">`;
                        } else {
                            
                            content = `${timeEl}<div class="flex-1 passive-activity text-sm sm:text-base">${item.activity}</div>`;
                        }
                        
                        listItem.innerHTML = content;
                        list.appendChild(listItem);
                    });
                    planContainer.appendChild(list);
                } else {
                    planContainer.textContent = 'Bu g√ºn i√ßin plan bulunamadƒ±.';
                }
            }

            
            function showFullWeek() {
                if (activeDayButton) {
                    activeDayButton.classList.remove('nav-btn-active');
                    activeDayButton.classList.add('nav-btn-inactive');
                }
                const fullWeekButton = document.getElementById('btn-FullWeek');
                fullWeekButton.classList.add('nav-btn-active');
                fullWeekButton.classList.remove('nav-btn-inactive');
                activeDayButton = fullWeekButton;

                planView.classList.add('hidden');
                fullWeekView.classList.remove('hidden');
            }
            
            
            function buildFullWeekTable() {
                const maxRows = Math.max(...Object.values(scheduleData).map(d => d.length));
                const days = ['Pazartesi', 'Salƒ±', '√áar≈üamba', 'Per≈üembe', 'Cuma', 'Cumartesi', 'Pazar'];
                const tbody = document.getElementById('full-week-tbody');
                tbody.innerHTML = '';

                for (let i = 0; i < maxRows; i++) {
                    const tr = document.createElement('tr');
                    const bgColor = i % 2 === 0 ? 'bg-white' : 'bg-blue-50';
                    tr.className = bgColor;

                    days.forEach(day => {
                        const item = scheduleData[day][i];
                        const td = document.createElement('td');
                        td.className = 'px-3 py-2 whitespace-normal align-top';
                        let content = '';

                        if (item) {
                            const timeText = item.time.includes('+') ? item.time : item.time.replace(':', '.').replace(':', '.');
                            const icon = getPassiveActivityIcon(item.activity);

                            if (icon !== 'üìù') {
                                content = `<strong class="block text-xs font-medium text-gray-400">${timeText}</strong>
                                           <div class="text-3xl text-center text-gray-500 pt-2 print-passive">${icon}</div>`;
                            } else if (item.activity.startsWith("Ders 1")) {
                                content = `<strong class="block text-xs font-medium text-blue-700">${timeText}</strong>
                                        <span class="font-semibold text-blue-800 print-active">${studyPlan[day][0]}</span>`;
                            } else if (item.activity.startsWith("Ders 2")) {
                                content = `<strong class="block text-xs font-medium text-blue-700">${timeText}</strong>
                                        <span class="font-semibold text-blue-800 print-active">${studyPlan[day][1]}</span>`;
                            } else if (item.activity.startsWith("Ders 3")) {
                                content = `<strong class="block text-xs font-medium text-blue-700">${timeText}</strong>
                                        <span class="font-semibold text-blue-800 print-active">${studyPlan[day][2]}</span>`;
                            } else {
                                 content = `<strong class="block text-xs font-medium text-gray-400">${timeText}</strong>
                                        <span class="text-gray-500 print-passive">${item.activity}</span>`;
                            }
                        }
                        td.innerHTML = content;
                        tr.appendChild(td);
                    });
                    tbody.appendChild(tr);
                }
            }

            
            dayNames.forEach(day => {
                if (day !== "Pazar") { 
                    document.getElementById(`btn-${day}`).addEventListener('click', () => showDay(day));
                }
            });
            document.getElementById(`btn-Pazar`).addEventListener('click', () => showDay("Pazar"));
            document.getElementById('btn-FullWeek').addEventListener('click', showFullWeek);
            document.getElementById('print-schedule-btn').addEventListener('click', () => window.print());

            
            planContainer.addEventListener('input', (e) => {
                if (e.target.classList.contains('editable-lesson')) {
                    const day = e.target.dataset.day;
                    const blockIndex = parseInt(e.target.dataset.block, 10);
                    studyPlan[day][blockIndex] = e.target.value;
                    
                    buildFullWeekTable();
                }
            });

            
            function updateCurrentActivity() {
                const now = new Date();
                const currentDay = dayNames[now.getDay()];
                const currentHours = now.getHours();
                const currentMinutes = now.getMinutes();
                const currentTime = currentHours + (currentMinutes / 100); 

                const daySchedule = scheduleData[currentDay];
                let currentIdx = -1;
                
                const startTime = (currentDay === "Cumartesi" || currentDay === "Pazar") ? 7.5 : 8.5; 

                if (currentTime < startTime) {
                    currentIdx = daySchedule.length - 1; 
                } else {
                    for (let i = 0; i < daySchedule.length; i++) {
                        const item = daySchedule[i];
                        if (item.time.includes('+')) {
                            const start = parseFloat(item.time.replace(':', '.').replace('+', ''));
                            if (currentTime >= start) {
                                currentIdx = i;
                                break;
                            }
                        } else if (item.time.includes('-')) {
                            const [startStr, endStr] = item.time.split(' - ');
                            const start = parseFloat(startStr.replace(':', '.'));
                            const end = parseFloat(endStr.replace(':', '.'));
                            
                            if (currentTime >= start && currentTime < end) {
                                currentIdx = i;
                                break;
                            }
                        }
                    }
                }
                
                let prevActivity = "--";
                let currentActivity = "UYKU";
                let nextActivity = "--";

                function getActivityName(day, index) {
                    if (index < 0) return daySchedule[daySchedule.length - 1].activity; 
                    if (index >= daySchedule.length) return daySchedule[0].activity; 
                    
                    const item = daySchedule[index];
                    if (item.activity.startsWith("Ders 1")) return studyPlan[day][0];
                    if (item.activity.startsWith("Ders 2")) return studyPlan[day][1];
                    if (item.activity.startsWith("Ders 3")) return studyPlan[day][2];
                    return item.activity;
                }

                if (currentIdx !== -1) {
                    currentActivity = getActivityName(currentDay, currentIdx);
                    prevActivity = getActivityName(currentDay, currentIdx - 1);
                    nextActivity = getActivityName(currentDay, currentIdx + 1);
                } else {
                    currentActivity = "UYKU"; 
                    prevActivity = daySchedule[daySchedule.length - 2].activity; 
                    nextActivity = daySchedule[0].activity; 
                }

                function getDisplayFormat(activity) {
                    const icon = getPassiveActivityIcon(activity);
                    return icon === 'üìù' ? activity : icon;
                }
                
                document.getElementById('prev-activity').textContent = getDisplayFormat(prevActivity);
                document.getElementById('current-activity').textContent = getDisplayFormat(currentActivity);
                document.getElementById('next-activity').textContent = getDisplayFormat(nextActivity);
            }

            
            const ctx = document.getElementById('time-allocation-chart').getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: ['Uyku', 'Okul', 'Ders √áalƒ±≈üma', 'Ki≈üisel & Diƒüer'],
                    datasets: [{
                        label: 'Haftalƒ±k Saat',
                        data: [69, 30.4, 13.7, 54.9], 
                        backgroundColor: [
                            '#3b82f6', 
                            '#10b981', 
                            '#f97616', 
                            '#eab308' 
                        ],
                        hoverOffset: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 15,
                                font: {
                                    size: 11
                                }
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    let value = context.raw || 0;
                                    let total = context.chart.getDatasetMeta(0).total;
                                    let percentage = ((value / total) * 100).toFixed(1);
                                    return `${label}: ${value} saat (${percentage}%)`;
                                }
                            }
                        }
                    }
                }
            });

            
            buildFullWeekTable();
            showDay(currentDayName);
            updateCurrentActivity();
            setInterval(updateCurrentActivity, 60000); 

        });
    </script>
</body>
</html>
